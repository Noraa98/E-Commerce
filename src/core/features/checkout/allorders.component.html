<div class="allorders-container">
  <h2>Your Orders</h2>

  <div *ngIf="loading()" class="loading">Loading orders...</div>

  <div *ngIf="error()" class="error">{{ error() }}</div>

  <ul *ngIf="!loading() && !error() && orders().length > 0" class="orders-list">

    <li *ngFor="let order of orders()" class="order-item">
      <div class="order-header">
        <strong>Order #{{ order._id || order.id }}</strong>
        <span class="order-status">{{ order.status || '—' }}</span>
      </div>
      <div class="order-body">
        <div>Total: {{ order.totalOrderPrice ?? order.totalPrice ?? '—' }}</div>
        <div>Products: {{ order.products?.length ?? 0 }}</div>
        <a [routerLink]="['/details', order._id || order.id]">View details</a>
      </div>
    </li>
  </ul>

  <div *ngIf="!loading() && !error() && (!orders() || orders().length === 0)">No orders found.</div>
</div>
